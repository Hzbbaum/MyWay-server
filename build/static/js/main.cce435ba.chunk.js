(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/anotherbeach.995e34c4.jpg"},31:function(e,t,a){e.exports=a(52)},36:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){e.exports={loader:"LoadingSpinner_loader__3Rpih",takeoff:"LoadingSpinner_takeoff__2JBdW"}},44:function(e,t,a){},45:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(36),a(3)),i=a.n(l),s=(a(38),a(12)),u=a(15),m=a(1),p=function(){return r.a.createElement("div",null,r.a.createElement("svg",{id:"logo",width:"102",height:"77",viewBox:"0 0 102 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M95.3299 29.415L43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639L86.7014 19.764C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415Z",fill:"#FAF125"}),r.a.createElement("path",{d:"M95.3299 29.415L43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639L86.7014 19.764C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415Z",fill:"url(#paint0_linear)"}),r.a.createElement("path",{d:"M43.1765 59.5258C43.1765 59.5258 93.6106 30.4077 95.3299 29.415M43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415M43.1765 59.5258L95.3299 29.415",stroke:"black"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",fill:"#CAA77D"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",fill:"url(#paint1_linear)"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",fill:"#CAA77D"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",fill:"url(#paint2_linear)"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",stroke:"black"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",stroke:"black"}),r.a.createElement("path",{d:"M87.8188 20.612C90.8959 21.971 92.9473 22.877 94.7724 23.3911L91.9068 25.0456L87.3219 27.6927L82.6607 23.59L85.5263 21.9355L87.8187 20.612L87.8188 20.612Z",fill:"#71F0F9"}),r.a.createElement("path",{d:"M41.1554 49.6435L39.104 48.7374L76.3564 27.2297L79.5541 27.474L41.1554 49.6435Z",fill:"#71F0F9"}),r.a.createElement("path",{d:"M91.9068 25.0456L94.7724 23.3911C92.9472 22.877 90.8958 21.971 87.8187 20.612L85.5263 21.9355M91.9068 25.0456L85.5263 21.9355M91.9068 25.0456L87.3219 27.6927L82.6607 23.59L85.5263 21.9355M39.104 48.7374L41.1554 49.6435L79.5541 27.474L76.3564 27.2297L39.104 48.7374Z",stroke:"black"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear",x1:"45.9056",y1:"24.5037",x2:"60.3884",y2:"49.5885",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#1931B9"}),r.a.createElement("stop",{offset:"1",stopColor:"#FAF125"})),r.a.createElement("linearGradient",{id:"paint1_linear",x1:"39.5217",y1:"35.3566",x2:"48.3471",y2:"50.6427",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#C9A77D"}),r.a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.a.createElement("linearGradient",{id:"paint2_linear",x1:"39.5217",y1:"35.3566",x2:"48.3471",y2:"50.6427",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#C9A77D"}),r.a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))))},d=(a(43),function(){return r.a.createElement("div",{className:"loader"},r.a.createElement("svg",{id:"logo",width:"102",height:"77",viewBox:"0 0 102 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M95.3299 29.415L43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639L86.7014 19.764C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415Z",fill:"#FAF125"}),r.a.createElement("path",{d:"M95.3299 29.415L43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639L86.7014 19.764C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415Z",fill:"url(#paint0_linear)"}),r.a.createElement("path",{d:"M43.1765 59.5258C43.1765 59.5258 93.6106 30.4077 95.3299 29.415M43.1765 59.5258C40.3109 61.1802 30.1449 60.7784 26.721 60.1422L12.9817 52.3965L11.6077 51.622L5.19604 48.0073L18.3777 40.3969L26.0591 43.2785L27.7051 43.896L35.9351 46.9834L58.2866 34.0787L80.6381 21.1741C80.6381 21.1741 85.0018 19.0133 86.7013 19.7639C89.7784 21.123 91.8298 22.029 93.6549 22.5431C95.48 23.0571 97.9987 22.1255 99.477 23.3625C100.955 24.5994 95.3299 29.415 95.3299 29.415M43.1765 59.5258L95.3299 29.415",stroke:"black"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",fill:"#CAA77D"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",fill:"url(#paint1_linear)"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",fill:"#CAA77D"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",fill:"url(#paint2_linear)"}),r.a.createElement("path",{d:"M25.9819 43.1739L11.5306 51.5173L6.56763 54.3827L8.96585 54.5659L12.9045 52.2919L27.6279 43.7913L25.9819 43.1739Z",stroke:"black"}),r.a.createElement("path",{d:"M46.5823 49.5713L78.1036 31.3724L81.3012 31.6167L50.9262 49.1537L46.5823 49.5713Z",stroke:"black"}),r.a.createElement("path",{d:"M87.8188 20.612C90.8959 21.971 92.9473 22.877 94.7724 23.3911L91.9068 25.0456L87.3219 27.6927L82.6607 23.59L85.5263 21.9355L87.8187 20.612L87.8188 20.612Z",fill:"#71F0F9"}),r.a.createElement("path",{d:"M41.1554 49.6435L39.104 48.7374L76.3564 27.2297L79.5541 27.474L41.1554 49.6435Z",fill:"#71F0F9"}),r.a.createElement("path",{d:"M91.9068 25.0456L94.7724 23.3911C92.9472 22.877 90.8958 21.971 87.8187 20.612L85.5263 21.9355M91.9068 25.0456L85.5263 21.9355M91.9068 25.0456L87.3219 27.6927L82.6607 23.59L85.5263 21.9355M39.104 48.7374L41.1554 49.6435L79.5541 27.474L76.3564 27.2297L39.104 48.7374Z",stroke:"black"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear",x1:"45.9056",y1:"24.5037",x2:"60.3884",y2:"49.5885",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#1931B9"}),r.a.createElement("stop",{offset:"1",stopColor:"#FAF125"})),r.a.createElement("linearGradient",{id:"paint1_linear",x1:"39.5217",y1:"35.3566",x2:"48.3471",y2:"50.6427",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#C9A77D"}),r.a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),r.a.createElement("linearGradient",{id:"paint2_linear",x1:"39.5217",y1:"35.3566",x2:"48.3471",y2:"50.6427",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#C9A77D"}),r.a.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})))))}),f="LOGGED_OUT",E="LOGGED_IN",h="ADMIN",L=a(10),v=a(4),b=a(9),g=function(e){return{type:"LOGIN_SUCCESS",payload:e}},C=function(e){return{type:"LOGIN_FAILURE",payload:e}},y=function(e){return fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},O=function(e){return fetch("http://localhost:3000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},N=function(){var e=Object(n.useState)({uname:"",pword:""}),t=Object(b.a)(e,2),a=t[0],c=t[1],o=JSON.stringify(Object(m.c)((function(e){return e.user.error}))),l=Object(m.b)(),i=function(e){c(Object(v.a)({},a,Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(function(e){return function(t){return t({type:"LOGIN_BEGIN"}),y(e).then((function(e){return e.success?(localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),t(g(e.user)),e.user):(t(C(e.message)),e)})).catch((function(e){return t(C(e)),e}))}}(a)),c({uname:"",pword:""})}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"uname"}," User name: "),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"uname",value:a.uname,onChange:i})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pword"},"password: "),r.a.createElement("input",{type:"password",required:!0,minLength:"6  ",autoComplete:"off",name:"pword",value:a.pword,onChange:i})),r.a.createElement("div",null,r.a.createElement("button",{className:"login",type:"submit"},"Log-in!"),o?r.a.createElement("span",{className:"message"},o):null)))},j=function(){var e=Object(m.b)();return r.a.createElement("div",null,r.a.createElement("button",{className:"login",onClick:function(t){e({type:"LOGOUT"}),localStorage.setItem("refreshToken",null),localStorage.setItem("accessToken",null)}}," logout"))};a(44);var S=function(){var e=Object(m.c)((function(e){return e.user})),t=Object(m.c)((function(e){return e.user.appState})),a=t===E||t===h;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"left"},r.a.createElement(p,null),r.a.createElement("h2",null,"MY WAY")),e.loading?r.a.createElement(d,null):r.a.createElement("div",{className:"right"},a?r.a.createElement("span",null," hello ",e.fname," ",e.lname," "):null,a?r.a.createElement(j,null):r.a.createElement(N,null)))},w=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("section",null,"Created By Hillel Buchsbaum \xa9"))},k=(a(45),function(){var e;switch(Object(m.c)((function(e){return e.user.appState}))){case E:e=r.a.createElement(u.a,{exact:!0,to:"/trips"});break;case f:e=null;break;case h:e=r.a.createElement(u.a,{exact:!0,to:"/admin"})}return r.a.createElement("div",{className:"main"},e,r.a.createElement("div",{className:"home-wrapper"},r.a.createElement("main",null,r.a.createElement("p",null,r.a.createElement("b",null,"MY WAY")," Gets You On Vacation, Now."),"Join Us and see!",r.a.createElement("p",null)),r.a.createElement(s.b,{className:"link",to:"/register"},"Join Now!")))}),_=function(){var e=Object(n.useState)({vacation_id:"",destination:"",description:"",sdate:"",edate:"",pic:"",price_usd:""}),t=Object(b.a)(e,2),a=t[0],c=t[1],o=function(e){c(Object(v.a)({},a,Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:"vacationForm",onSubmit:function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,i.a.awrap(x("accessToken"));case 3:t=n.sent,fetch("http://localhost:3000/vacations",{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){var t=e.json();return e.status>=200&&e.status<300||e.status>=400&&e.status<410?t:t.then(Promise.reject.bind(Promise))})).then((function(e){e.success&&c({vacation_id:"",destination:"",description:"",sdate:"",edate:"",pic:"",price_usd:""})})).catch((function(e){console.log(e)}));case 5:case"end":return n.stop()}}))}},r.a.createElement("div",null,"new:"),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"destination",value:a.destination,onChange:o}),r.a.createElement("textarea",{required:!0,autoComplete:"off",name:"description",value:a.description,onChange:o}),r.a.createElement("input",{type:"number",required:!0,autoComplete:"off",name:"price_usd",value:a.price_usd,onChange:o}),r.a.createElement("input",{type:"date",required:!0,autoComplete:"off",name:"sdate",value:a.sdate,onChange:o}),r.a.createElement("input",{type:"date",required:!0,autoComplete:"off",name:"edate",value:a.edate,onChange:o}),r.a.createElement("input",{type:"text",autoComplete:"off",name:"pic",value:a.pic,onChange:o}),r.a.createElement("div",null,r.a.createElement("button",{className:"addVacation",type:"submit"},"Add!")))},x=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return localStorage.getItem(e)})));case 1:case"end":return t.stop()}}))},T=function(e){var t=Object(n.useState)({vacation_id:e.tripinfo.vacation_id,destination:e.tripinfo.destination,description:e.tripinfo.description,sdate:e.tripinfo.sdate,edate:e.tripinfo.edate,pic:e.tripinfo.pic,price_usd:e.tripinfo.price_usd}),a=Object(b.a)(t,2),c=a[0],o=a[1],l=function(e){o(Object(v.a)({},c,Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{className:"vacationForm",onSubmit:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,i.a.awrap(I("accessToken"));case 3:t=a.sent,fetch("http://localhost:3000/vacations",{method:"PUT",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){var t=e.json();return e.status>=200&&e.status<300||e.status>=400&&e.status<410?t:t.then(Promise.reject.bind(Promise))})).then((function(e){e.success&&o({})})).catch((function(e){console.log(e)}));case 5:case"end":return a.stop()}}))}},r.a.createElement("div",null,e.tripinfo.vacation_id),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"destination",value:c.destination,onChange:l}),r.a.createElement("textarea",{required:!0,autoComplete:"off",name:"description",value:c.description,onChange:l}),r.a.createElement("input",{type:"number",required:!0,autoComplete:"off",name:"price_usd",value:c.price_usd,onChange:l}),r.a.createElement("input",{type:"date",required:!0,autoComplete:"off",name:"sdate",value:M(c.sdate),onChange:l}),r.a.createElement("input",{type:"date",required:!0,autoComplete:"off",name:"edate",value:M(c.edate),onChange:l}),r.a.createElement("input",{type:"text",autoComplete:"off",name:"pic",value:c.pic,onChange:l}),r.a.createElement("div",null,r.a.createElement("button",{className:"editVacation",type:"submit"},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{className:"editVacation",onClick:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,i.a.awrap(I("accessToken"));case 3:t=a.sent,fetch("http://localhost:3000/vacations",{method:"DELETE",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.success})).catch((function(e){console.log(e)}));case 5:case"end":return a.stop()}}))}},r.a.createElement("i",{className:"material-icons"},"delete"))))},I=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return localStorage.getItem(e)})));case 1:case"end":return t.stop()}}))};function M(e){var t;return e&&(t=e.split("/")),t&&3===t.length?"".concat(t[2],"-").concat(t[1],"-").concat(t[0]):e}var A=a(27),U=a.n(A),F=function(){var e=Object(m.c)((function(e){return e.trips.trips})),t=[],a=[],c={};return Object(n.useEffect)((function(){e&&e.length&&e.forEach((function(e){e.followers_num&&(t.push(e.followers_num),a.push(e.vacation_id))}))}),[e,t,a,c]),Object(n.useEffect)((function(){setTimeout((function(){var e=document.getElementById("barChartCanvas");e&&(c=new U.a(e,{type:"horizontalBar",data:{labels:a,datasets:[{backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:t}]},options:{elements:{rectangle:{borderWidth:2}},responsive:!0,legend:{position:"right"},title:{display:!0,text:"Followers by Vacation Id"}}}))}),30)}),[t,a]),r.a.createElement("div",null,r.a.createElement("canvas",{id:"barChartCanvas"}))},P=(a(49),function(){var e,t=Object(m.c)((function(e){return e.user.appState})),a=Object(m.c)((function(e){return e.trips}));switch(t){case E:e=r.a.createElement(u.a,{exact:!0,to:"/trips"});break;case f:e=r.a.createElement(u.a,{exact:!0,to:"/home"});break;case h:e=null}return r.a.createElement("div",{className:"main"},e,a.error?r.a.createElement("div",null,"there was an error"):null,a.isLoading?r.a.createElement(d,null):null,r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"gridHeader"},"ID"),r.a.createElement("div",{className:"gridHeader"},"Destination"),r.a.createElement("div",{className:"gridHeader"},"description"),r.a.createElement("div",{className:"gridHeader"},"price"),r.a.createElement("div",{className:"gridHeader"},"start date"),r.a.createElement("div",{className:"gridHeader"},"end date"),r.a.createElement("div",{className:"gridHeader"},"pic"),r.a.createElement("div",{className:"gridHeader"},"actions"),r.a.createElement(_,null),!a.isLoading&&a.trips&&a.trips.map((function(e){return r.a.createElement(T,{tripinfo:e,key:e.vacation_id})}))),r.a.createElement("div",{className:"showReport"},r.a.createElement("i",{className:"material-icons"},"show_chart")),r.a.createElement(F,null))}),G=(a(50),function(e){var t=Object(n.useState)(e.tripinfo.follow?"bottom clicked":"bottom"),a=Object(b.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),s=Object(b.a)(l,2),u=s[0],p=s[1],d=Object(m.c)((function(e){return e.user.user_id})),f={vacation_id:e.tripinfo.vacation_id},E=function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return u?(e.preventDefault(),o("bottom"),p(!1)):(o("bottom clicked"),p(!0)),a.next=3,i.a.awrap(D("accessToken"));case 3:t=a.sent,fetch("http://localhost:3000/vacations/follow",{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify(d,f)}).then((function(e){var t=e.json();return e.status>=200&&e.status<300||e.status>=400&&e.status<410?t:t.then(Promise.reject.bind(Promise))})).then((function(e){}));case 5:case"end":return a.stop()}}))};return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"top",style:{backgroundImage:"url(".concat(e.tripinfo.pic,")")}}),r.a.createElement("div",{className:c},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"details"},r.a.createElement("h1",null,e.tripinfo.destination),r.a.createElement("p",null,e.tripinfo.price_usd,"$")),r.a.createElement("div",{className:"buy",onClick:E},r.a.createElement("i",{className:"material-icons"},"favorite"))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"done"},r.a.createElement("i",{className:"material-icons"},"done")),r.a.createElement("div",{className:"details"},r.a.createElement("h1",null,e.tripinfo.destination),r.a.createElement("p",null,"Added to your watchlist")),r.a.createElement("div",{className:"remove",onClick:E},r.a.createElement("i",{className:"material-icons"},"clear"))))),r.a.createElement("div",{className:"inside"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"material-icons"},"info_outline")),r.a.createElement("div",{className:"contents"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"start"),r.a.createElement("th",null,"end")),r.a.createElement("tr",null,r.a.createElement("td",null,e.tripinfo.sdate),r.a.createElement("td",null,e.tripinfo.edate)))),r.a.createElement("p",null,e.tripinfo.description),r.a.createElement("h3",null,"only for ",e.tripinfo.price_usd,"$"))))}),D=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return localStorage.getItem(e)})));case 1:case"end":return t.stop()}}))},Z=function(){var e;switch(Object(m.c)((function(e){return e.user.appState}))){case E:e=null;break;case f:e=r.a.createElement(u.a,{exact:!0,to:"/home"});break;case h:e=r.a.createElement(u.a,{exact:!0,to:"/admin"})}var t=Object(m.c)((function(e){return e.trips.trips})),a=Object(m.c)((function(e){return e.trips.loading})),n=t&&!e&&t.length?t.map((function(e){return r.a.createElement(G,{tripinfo:e,key:e.vacation_id})})):"";return r.a.createElement("div",{className:"tripContainer main"},e,a?r.a.createElement(d,null):n)},B=function(){return r.a.createElement("div",{className:"main"},"The content you were looking for could not be found. click here to be redirected",r.a.createElement(s.b,{className:"redirectButton",to:"/home",type:"button"},"Home"))},q=(a(51),function(){var e=Object(m.c)((function(e){return e.user.appState})),t=Object(n.useState)({uname:"",fname:"",lname:"",pword:""}),a=Object(b.a)(t,2),c=a[0],o=a[1],l=JSON.stringify(Object(m.c)((function(e){return e.user.error}))),i=Object(m.b)(),s={};switch(e){case E:s=r.a.createElement(u.a,{exact:!0,to:"/trips"});break;case f:s=null;break;case h:s=r.a.createElement(u.a,{exact:!0,to:"/admin"})}var p=function(e){o(Object(v.a)({},c,Object(L.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"registerForm main"},s,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(function(e){return function(t){return t({type:"LOGIN_BEGIN"}),O(e).then((function(e){return e.success?(localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),t(g(e.user))):t(C(e.message)),e.user})).catch((function(e){return t(C(e))}))}}(c))}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"uname"}," User name: "),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"uname",value:c.uname,onChange:p})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"fname"},"first name: "),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"fname",value:c.fname,onChange:p})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"lname"},"last name: "),r.a.createElement("input",{type:"text",required:!0,autoComplete:"off",name:"lname",value:c.lname,onChange:p})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"pword"},"password: "),r.a.createElement("input",{type:"password",required:!0,minLength:"6  ",autoComplete:"off",name:"pword",value:c.pword,onChange:p})),r.a.createElement("div",null,r.a.createElement("button",{className:"login",type:"submit"},"Sign Up!"),l?r.a.createElement("span",{className:"message"},l):null)))}),J=a(28),R=a.n(J),H=function(e){return{type:"UPDATE_TRIPS_FAILURE",payload:e}},z=function(e,t){return function(a){return a({type:"UPDATE_TRIPS_BEGIN"}),V(e,t).then((function(e){return e.success?a({type:"UPDATE_TRIPS_SUCCESS",payload:e.results}):(console.log(e.message),a(H(e.message))),e.trips})).catch((function(e){console.log("error"),a(H(e))}))}},V=function(e,t){var a,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(W("accessToken"));case 2:return a=r.sent,n=t?"/adminGet":"",r.abrupt("return",fetch("http://localhost:3000/vacations"+n,{method:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;if(!e.ok&&(e.status>=200&&e.status<=300||e.status>=400&&e.status<=405))return e;throw Error(e.statusText)})).then((function(e){return e.json()})));case 5:case"end":return r.stop()}}))},W=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return localStorage.getItem(e)})));case 1:case"end":return t.stop()}}))};var Y=function(){var e=Object(m.c)((function(e){return e.user.user_id})),t=Object(m.c)((function(e){return e.user.appState})),a=Object(m.b)();Object(n.useEffect)((function(){t!==f&&a(z(e,t===F))}),[t,e,a]);var c=function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap($("refreshToken"));case 2:(e=t.sent)&&fetch("http://localhost:3000/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("accessToken",e.accessToken)}));case 4:case"end":return t.stop()}}))};return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current(),console.log("tick")}),t);return function(){return clearInterval(e)}}}),[t])}(c,66e4),Object(n.useEffect)((function(){return c()})),r.a.createElement("div",{className:"App"},r.a.createElement("img",{className:"background",src:R.a,alt:"beach"}),r.a.createElement(S,null),r.a.createElement(s.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/home"},r.a.createElement(k,null)),r.a.createElement(u.b,{path:"/trips"},r.a.createElement(Z,null)),r.a.createElement(u.b,{path:"/admin"},r.a.createElement(P,null)),r.a.createElement(u.b,{path:"/register"},r.a.createElement(q,null)),r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(k,null)),r.a.createElement(u.b,{path:"*"},r.a.createElement(B,null)))),r.a.createElement(w,null))},$=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return localStorage.getItem(e)})));case 1:case"end":return t.stop()}}))},K=a(13),Q={trips:[],loading:!1,error:""},X={user:{},loading:!1,error:"",appState:f},ee=Object(K.combineReducers)({trips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TRIPS_BEGIN":return Object(v.a)({},e,{loading:!0,error:null});case"UPDATE_TRIPS_SUCCESS":return Object(v.a)({},e,{loading:!1,trips:t.payload});case"UPDATE_TRIPS_FAILURE":return console.log(t),Object(v.a)({},e,{loading:!1,error:t.payload,trips:[]});case"LOGOUT":return Object(v.a)({},e,{trips:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_BEGIN":return Object(v.a)({},e,{loading:!0,appState:f});case"LOGIN_SUCCESS":return Object(v.a)({},e,{loading:!1,user:t.payload,appState:t.payload.isadmin?h:E});case"LOGIN_FAILURE":return Object(v.a)({},e,{loading:!1,error:t.payload,user:{},appState:f});case"LOGOUT":return Object(v.a)({},e,{user:{},appState:f});default:return e}}}),te=a(29),ae=a(30).composeWithDevTools||K.compose,ne=Object(K.createStore)(ee,ae(Object(K.applyMiddleware)(te.a))),re=document.getElementById("root");o.a.render(r.a.createElement(m.a,{store:ne},r.a.createElement(Y,null)),re)}},[[31,1,2]]]);
//# sourceMappingURL=main.cce435ba.chunk.js.map